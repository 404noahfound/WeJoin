extends ../layout
mixin text_field(name, icon, placeholder)
  div.field
    - var type = 'text'
    - if (name == 'password') {type = 'password'}
    - if (name == 'email') {type = 'email'}
    div(class="ui left icon input")
      i(class= icon + " icon")
      input(type = type, name = name, placeholder=placeholder)

block content
  style.
    .column {
        max-width: 450px;
      }
    body > .grid {
        height: 100%;
      }
  div(class="ui middle aligned center aligned grid")
    div.column
      h2(class="ui teal image")
        div.content Sign Up a new account
      form.ui.large.form(method="post" name="user")
        div.ui.stacked.segment
          +text_field("email", "mail outline", "E-mail")
          +text_field("username","user", "Username")
          +text_field("password","lock", "Password")
          input(class="ui fluid large teal submit button" type="submit" value="Submit")
      if (error && error.length > 0)
        div(class="ui error message") #{error}
        script.
          console.log("#{error}")
